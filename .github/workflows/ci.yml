# name: CI Workflow

# on:
#   push:
#     branches:
#       - master
#   pull_request:
#     branches:
#       - master

# env:
#   CODECOV_TOKEN: ${{ secrets.CODECOV_TOKEN }}
#   AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
#   AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}

# jobs:
#   setup:
#     runs-on: ubuntu-latest

#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v2

#       - name: Read Node.js version from .nvmrc
#         id: nvmrc
#         run: echo "NODE_VERSION=$(cat .nvmrc)" >> $GITHUB_ENV

#       - name: Set up Node.js
#         uses: actions/setup-node@v2
#         with:
#           node-version: ${{ env.NODE_VERSION }}

#       - name: Set branch name
#         id: vars
#         run: echo "BRANCH_NAME=${GITHUB_REF##*/}" >> $GITHUB_ENV

#   build:
#     runs-on: ubuntu-latest
#     needs: [setup]

#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v2

#       - name: Install pnpm
#         run: npm install -g pnpm

#       - name: Install dependencies
#         run: pnpm install

#       - name: Build React app
#         run: pnpm build

#   tests:
#     runs-on: ubuntu-latest
#     needs: [build]

#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v2

#       - name: Install pnpm
#         run: npm install -g pnpm

#       - name: Install dependencies
#         run: pnpm install

#       - name: Run tests
#         run: pnpm test

#   codecov:
#     runs-on: ubuntu-latest
#     needs: [build, tests]

#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v2

#       - name: Install pnpm
#         run: npm install -g pnpm

#       - name: Install dependencies
#         run: pnpm install

#       - name: Run tests with coverage
#         run: pnpm test:ci

#       - name: Upload coverage to Codecov
#         run: pnpm exec codecov -f ./coverage/lcov.info
#         env:
#           CODECOV_TOKEN: ${{ env.CODECOV_TOKEN }}
